module TestClosures
{
	class Main 
	{
		fields
		{
			mTestInt : Int;
		}
		methods
		{		
			Constructor()
			{
				mTestInt = 3;
				
				var f = function() {
					Console.WriteLine(mTestInt++);
				};
				Console.WriteLine("Expect 3");
				f();
				Console.WriteLine("Expect 4");
				f();
				Console.WriteLine("Expect 3");
				Console.WriteLine(mTestInt++);
				Console.WriteLine("Expect 5");
				f();
			}
		}
	}
	
	class Premain 
	{
	}	
}

